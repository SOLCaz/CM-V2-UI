{"ast":null,"code":"import _objectSpread from\"C:/Users/mikec/candy-machine-v2-responsive-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/mikec/candy-machine-v2-responsive-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/mikec/candy-machine-v2-responsive-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/mikec/candy-machine-v2-responsive-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/mikec/candy-machine-v2-responsive-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19;import{useEffect,useState}from\"react\";import styled from\"styled-components\";import{LAMPORTS_PER_SOL,PublicKey}from\"@solana/web3.js\";import{useAnchorWallet}from\"@solana/wallet-adapter-react\";import{WalletMultiButton}from\"@solana/wallet-adapter-material-ui\";import{GatewayProvider}from'@civic/solana-gateway-react';import Countdown from\"react-countdown\";import{Snackbar,Paper,LinearProgress,Chip}from\"@material-ui/core\";import Alert from\"@material-ui/lab/Alert\";import{toDate,getAtaForMint}from'./utils';import{MintButton}from'./MintButton';import{awaitTransactionSignatureConfirmation,getCandyMachineState,mintOneToken,CANDY_MACHINE_PROGRAM}from\"./candy-machine\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WalletContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n\"])));var NFT=styled(Paper)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  min-width: 400px;\\n  padding: 5px 20px 20px 20px;\\n  flex: 1 1 auto;\\n\"])));var Des=styled(NFT)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  text-align: left;\\n  padding-top: 0px;\\n\"])));var Card=styled(Paper)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  background-color: var(--card-background-lighter-color) !important;\\n  margin: 5px;\\n  padding: 24px;\\n\"])));var MintButtonContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled{\\n    color: #464646;\\n  }\\n\\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\\n    -webkit-animation: pulse 1s;\\n    animation: pulse 1s;\\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\\n  }\\n\\n  @-webkit-keyframes pulse {\\n    0% {\\n      box-shadow: 0 0 0 0 #ef8f6e;\\n    }\\n  }\\n\\n  @keyframes pulse {\\n    0% {\\n      box-shadow: 0 0 0 0 #ef8f6e;\\n    }\\n  }\\n\"])));var WalletAmount=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color:black;\\n  width: auto;\\n  height: 48px;\\n  padding: 0 5px 0 16px;\\n  min-width: 48px;\\n  min-height: auto;\\n  border-radius: 24px;\\n  background-color: var(--main-text-color);\\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\\n  box-sizing: border-box;\\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\\n  font-weight: 500;\\n  line-height: 1.75;\\n  text-transform: uppercase;\\n  border: 0;\\n  margin: 0;\\n  display: inline-flex;\\n  outline: 0;\\n  position: relative;\\n  align-items: center;\\n  user-select: none;\\n  vertical-align: middle;\\n  justify-content: flex-start;\\n  gap:10px;\\n\\n\"])));var ConnectButton=styled(WalletMultiButton)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n\"])));var Logo=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  flex: 0 0 auto;\\n\\n  img {\\n    height: 60px;\\n  }\\n\"])));var Menu=styled.ul(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  list-style: none;\\n  display: inline-flex;\\n  flex: 1 0 auto;\\n\\n  li {\\n    margin: 0 12px;\\n\\n    a {\\n      color: var(--main-text-color);\\n      list-style-image: none;\\n      list-style-position: outside;\\n      list-style-type: none;\\n      outline: none;\\n      text-decoration: none;\\n      text-size-adjust: 100%;\\n      touch-action: manipulation;\\n      transition: color 0.3s;\\n      padding-bottom: 15px;\\n\\n      img {\\n        max-height: 26px;\\n      }\\n    }\\n\\n    a:hover, a:active {\\n      color: rgb(131, 146, 161);\\n      border-bottom: 4px solid var(--title-text-color);\\n    }\\n\\n  }\\n\"])));var Wallet=styled.ul(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  flex: 0 0 auto;\\n  margin: 0;\\n  padding:0;\\n\"])));var MainContainer=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n  margin-right: 4%;\\n  margin-left: 4%;\\n  text-align: center;\\n  justify-content: center;\\n\"])));var MintContainer=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  flex: 1 1 auto;\\n  flex-wrap: wrap;\\n  gap: 20px;\\n\"])));var DesContainer=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1 1 auto;\\n  gap:20px;\\n\"])));var Price=styled(Chip)(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  margin: 5px;\\n  font-weight: bold;\\n  font-size: 1em !important;\\n\"])));var Image=styled.img(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  height: 400px;\\n  width: auto;\\n  border-radius: 20px;\\n\"])));var BorderLinearProgress=styled(LinearProgress)(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  margin: 20px 0;\\n  height: 10px !important;\\n  border-radius: 5px;\\n\"])));var ShimmerTitle=styled.h1(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  margin: 50px auto;\\n  text-transform: uppercase;\\n  animation: glow 2s ease-in-out infinite alternate;\\n  color: var(--main-text-color);\\n  @keyframes glow {\\n    from {\\n      text-shadow: 0 0 20px var(--main-text-color);\\n    }\\n    to {\\n      text-shadow: 0 0 30px var(--title-text-color), 0 0 10px var(--title-text-color);\\n    }\\n  }\\n\"])));var GoldTitle=styled.h2(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  color: var(--title-text-color);\\n\"])));var LogoAligner=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\\n  img {\\n    max-height: 35px;\\n    margin-right: 10px;\\n  }\\n\"])));var Home=function Home(props){var _candyMachine$state,_candyMachine$state$g;var _useState=useState(),_useState2=_slicedToArray(_useState,2),balance=_useState2[0],setBalance=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isMinting=_useState4[0],setIsMinting=_useState4[1];// true when user got to press MINT\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isActive=_useState6[0],setIsActive=_useState6[1];// true when countdown completes\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),itemsAvailable=_useState8[0],setItemsAvailable=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),itemsRedeemed=_useState10[0],setItemsRedeemed=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),itemsRemaining=_useState12[0],setItemsRemaining=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),whitelistEnabled=_useState14[0],setWhitelistEnabled=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),whitelistTokenBalance=_useState16[0],setWhitelistTokenBalance=_useState16[1];var _useState17=useState({open:false,message:\"\",severity:undefined}),_useState18=_slicedToArray(_useState17,2),alertState=_useState18[0],setAlertState=_useState18[1];var wallet=useAnchorWallet();var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),candyMachine=_useState20[0],setCandyMachine=_useState20[1];var rpcUrl=props.rpcHost;var refreshCandyMachineState=function refreshCandyMachineState(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var cndy,_balance,_tokenBalance$value,tokenBalance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(wallet){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return getCandyMachineState(wallet,props.candyMachineId,props.connection);case 4:cndy=_context.sent;setCandyMachine(cndy);setItemsAvailable(cndy.state.itemsAvailable);setItemsRemaining(cndy.state.itemsRemaining);setItemsRedeemed(cndy.state.itemsRedeemed);// fetch whitelist token balance\nif(!cndy.state.whitelistMintSettings){_context.next=30;break;}setWhitelistEnabled(true);_balance=0;_context.prev=12;_context.t0=props.connection;_context.next=16;return getAtaForMint(cndy.state.whitelistMintSettings.mint,wallet.publicKey);case 16:_context.t1=_context.sent[0];_context.next=19;return _context.t0.getTokenAccountBalance.call(_context.t0,_context.t1);case 19:tokenBalance=_context.sent;_balance=(tokenBalance===null||tokenBalance===void 0?void 0:(_tokenBalance$value=tokenBalance.value)===null||_tokenBalance$value===void 0?void 0:_tokenBalance$value.uiAmount)||0;_context.next=27;break;case 23:_context.prev=23;_context.t2=_context[\"catch\"](12);console.error(_context.t2);_balance=0;case 27:setWhitelistTokenBalance(_balance);_context.next=31;break;case 30:setWhitelistEnabled(false);case 31:case\"end\":return _context.stop();}}},_callee,null,[[12,23]]);}))();};var renderCounter=function renderCounter(_ref2){var days=_ref2.days,hours=_ref2.hours,minutes=_ref2.minutes,seconds=_ref2.seconds;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:days}),/*#__PURE__*/_jsx(\"br\",{}),\"Days\"]}),/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:hours}),/*#__PURE__*/_jsx(\"br\",{}),\"Hours\"]}),/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:minutes}),/*#__PURE__*/_jsx(\"br\",{}),\"Mins\"]}),/*#__PURE__*/_jsxs(Card,{elevation:1,children:[/*#__PURE__*/_jsx(\"h1\",{children:seconds}),/*#__PURE__*/_jsx(\"br\",{}),\"Secs\"]})]});};var onMint=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _document$getElementB,_status,mintTxId,status,message,_balance2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setIsMinting(true);(_document$getElementB=document.getElementById('#identity'))===null||_document$getElementB===void 0?void 0:_document$getElementB.click();if(!(wallet&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.program)&&wallet.publicKey)){_context2.next=13;break;}_context2.next=6;return mintOneToken(candyMachine,wallet.publicKey);case 6:mintTxId=_context2.sent[0];status={err:true};if(!mintTxId){_context2.next=12;break;}_context2.next=11;return awaitTransactionSignatureConfirmation(mintTxId,props.txTimeout,props.connection,'singleGossip',true);case 11:status=_context2.sent;case 12:if(!((_status=status)===null||_status===void 0?void 0:_status.err)){setAlertState({open:true,message:'Congratulations! Mint succeeded!',severity:'success'});}else{setAlertState({open:true,message:'Mint failed! Please try again!',severity:'error'});}case 13:_context2.next=20;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);// TODO: blech:\nmessage=_context2.t0.msg||'Minting failed! Please try again!';if(!_context2.t0.msg){if(!_context2.t0.message){message='Transaction Timeout! Please try again.';}else if(_context2.t0.message.indexOf('0x138')){}else if(_context2.t0.message.indexOf('0x137')){message=\"SOLD OUT!\";}else if(_context2.t0.message.indexOf('0x135')){message=\"Insufficient funds to mint. Please fund your wallet.\";}}else{if(_context2.t0.code===311){message=\"SOLD OUT!\";}else if(_context2.t0.code===312){message=\"Minting period hasn't started yet.\";}}setAlertState({open:true,message:message,severity:\"error\"});case 20:_context2.prev=20;if(!wallet){_context2.next=26;break;}_context2.next=24;return props.connection.getBalance(wallet.publicKey);case 24:_balance2=_context2.sent;setBalance(_balance2/LAMPORTS_PER_SOL);case 26:setIsMinting(false);refreshCandyMachineState();return _context2.finish(20);case 29:case\"end\":return _context2.stop();}}},_callee2,null,[[0,15,20,29]]);}));return function onMint(){return _ref3.apply(this,arguments);};}();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _balance3;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!wallet){_context3.next=5;break;}_context3.next=3;return props.connection.getBalance(wallet.publicKey);case 3:_balance3=_context3.sent;setBalance(_balance3/LAMPORTS_PER_SOL);case 5:case\"end\":return _context3.stop();}}},_callee3);}))();},[wallet,props.connection]);useEffect(refreshCandyMachineState,[wallet,props.candyMachineId,props.connection]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsxs(WalletContainer,{children:[/*#__PURE__*/_jsx(Logo,{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:\"logo.png\"})})}),/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",target:\"_blank\",rel:\"noopener noreferrer\",children:\" \"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",target:\"_blank\",rel:\"noopener noreferrer\",children:\" \"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",target:\"_blank\",rel:\"noopener noreferrer\",children:\" \"})})]}),/*#__PURE__*/_jsx(Wallet,{children:wallet?/*#__PURE__*/_jsxs(WalletAmount,{children:[(balance||0).toLocaleString(),\" SOL\",/*#__PURE__*/_jsx(ConnectButton,{})]}):/*#__PURE__*/_jsx(ConnectButton,{children:\"Connect Wallet\"})})]}),/*#__PURE__*/_jsx(ShimmerTitle,{children:\"Adventure S.L\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MintContainer,{children:[/*#__PURE__*/_jsx(DesContainer,{children:/*#__PURE__*/_jsxs(NFT,{elevation:3,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My NFT\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Price,{label:\"0.15 SOL\"}),/*#__PURE__*/_jsx(Image,{src:\"cool-cats.gif\",alt:\"NFT To Mint\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),wallet&&isActive&&/*#__PURE__*/_jsxs(\"h3\",{children:[\"TOTAL MINTED : \",itemsAvailable-itemsRemaining,\" / \",itemsAvailable]}),wallet&&isActive&&/*#__PURE__*/_jsx(BorderLinearProgress,{variant:\"determinate\",value:100-itemsRemaining*100/itemsAvailable}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MintButtonContainer,{children:!isActive&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate)?/*#__PURE__*/_jsx(Countdown,{date:toDate(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate),onMount:function onMount(_ref5){var completed=_ref5.completed;return completed&&setIsActive(true);},onComplete:function onComplete(){setIsActive(true);},renderer:renderCounter}):!wallet?/*#__PURE__*/_jsx(ConnectButton,{children:\"Connect Wallet\"}):(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.gatekeeper)&&wallet.publicKey&&wallet.signTransaction?/*#__PURE__*/_jsx(GatewayProvider,{wallet:{publicKey:wallet.publicKey||new PublicKey(CANDY_MACHINE_PROGRAM),//@ts-ignore\nsignTransaction:wallet.signTransaction}// // Replace with following when added\n// gatekeeperNetwork={candyMachine.state.gatekeeper_network}\n,gatekeeperNetwork:candyMachine===null||candyMachine===void 0?void 0:(_candyMachine$state=candyMachine.state)===null||_candyMachine$state===void 0?void 0:(_candyMachine$state$g=_candyMachine$state.gatekeeper)===null||_candyMachine$state$g===void 0?void 0:_candyMachine$state$g.gatekeeperNetwork// This is the ignite (captcha) network\n/// Don't need this for mainnet\n,clusterUrl:rpcUrl,options:{autoShowModal:false},children:/*#__PURE__*/_jsx(MintButton,{candyMachine:candyMachine,isMinting:isMinting,isActive:isActive,onMint:onMint})}):/*#__PURE__*/_jsx(MintButton,{candyMachine:candyMachine,isMinting:isMinting,isActive:isActive,onMint:onMint})}),/*#__PURE__*/_jsx(\"br\",{})]})}),/*#__PURE__*/_jsx(DesContainer,{children:/*#__PURE__*/_jsxs(Des,{elevation:2,children:[/*#__PURE__*/_jsxs(LogoAligner,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"logo.png\",alt:\"\"}),/*#__PURE__*/_jsx(GoldTitle,{children:\"Welcome!\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome To Adventure S.L\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Come join us in our Discord for more information, and updates on mint!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Supply: 333 Mint Price: 0.15 SOL\"})]})})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:alertState.open,autoHideDuration:6000,onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},children:/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},severity:alertState.severity,children:alertState.message})})]});};export default Home;","map":{"version":3,"sources":["C:/Users/mikec/candy-machine-v2-responsive-ui/src/Home.tsx"],"names":["useEffect","useState","styled","LAMPORTS_PER_SOL","PublicKey","useAnchorWallet","WalletMultiButton","GatewayProvider","Countdown","Snackbar","Paper","LinearProgress","Chip","Alert","toDate","getAtaForMint","MintButton","awaitTransactionSignatureConfirmation","getCandyMachineState","mintOneToken","CANDY_MACHINE_PROGRAM","WalletContainer","div","NFT","Des","Card","MintButtonContainer","WalletAmount","ConnectButton","Logo","Menu","ul","Wallet","MainContainer","MintContainer","DesContainer","Price","Image","img","BorderLinearProgress","ShimmerTitle","h1","GoldTitle","h2","LogoAligner","Home","props","balance","setBalance","isMinting","setIsMinting","isActive","setIsActive","itemsAvailable","setItemsAvailable","itemsRedeemed","setItemsRedeemed","itemsRemaining","setItemsRemaining","whitelistEnabled","setWhitelistEnabled","whitelistTokenBalance","setWhitelistTokenBalance","open","message","severity","undefined","alertState","setAlertState","wallet","candyMachine","setCandyMachine","rpcUrl","rpcHost","refreshCandyMachineState","candyMachineId","connection","cndy","state","whitelistMintSettings","mint","publicKey","getTokenAccountBalance","tokenBalance","value","uiAmount","console","error","renderCounter","days","hours","minutes","seconds","onMint","document","getElementById","click","program","mintTxId","status","err","txTimeout","msg","indexOf","code","getBalance","toLocaleString","goLiveDate","completed","gatekeeper","signTransaction","gatekeeperNetwork","autoShowModal"],"mappings":"gpCAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,OAAQC,gBAAR,CAA0BC,SAA1B,KAA0C,iBAA1C,CACA,OAAQC,eAAR,KAA8B,8BAA9B,CACA,OAAQC,iBAAR,KAAgC,oCAAhC,CACA,OAAQC,eAAR,KAA8B,6BAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAAQC,QAAR,CAAkBC,KAAlB,CAAyBC,cAAzB,CAAyCC,IAAzC,KAAoD,mBAApD,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,OAAQC,MAAR,CAA0BC,aAA1B,KAA8C,SAA9C,CACA,OAAQC,UAAR,KAAyB,cAAzB,CACA,OAEIC,qCAFJ,CAGIC,oBAHJ,CAIIC,YAJJ,CAKIC,qBALJ,KAMO,iBANP,C,wFAQA,GAAMC,CAAAA,eAAe,CAAGnB,MAAM,CAACoB,GAAV,6JAArB,CAMA,GAAMC,CAAAA,GAAG,CAAGrB,MAAM,CAACQ,KAAD,CAAT,6IAAT,CAKA,GAAMc,CAAAA,GAAG,CAAGtB,MAAM,CAACqB,GAAD,CAAT,+GAAT,CAKA,GAAME,CAAAA,IAAI,CAAGvB,MAAM,CAACQ,KAAD,CAAT,uMAAV,CAOA,GAAMgB,CAAAA,mBAAmB,CAAGxB,MAAM,CAACoB,GAAV,2lBAAzB,CAyBA,GAAMK,CAAAA,YAAY,CAAGzB,MAAM,CAACoB,GAAV,q1BAAlB,CA4BA,GAAMM,CAAAA,aAAa,CAAG1B,MAAM,CAACI,iBAAD,CAAT,qEAAnB,CAEA,GAAMuB,CAAAA,IAAI,CAAG3B,MAAM,CAACoB,GAAV,2HAAV,CAOA,GAAMQ,CAAAA,IAAI,CAAG5B,MAAM,CAAC6B,EAAV,wqBAAV,CAgCA,GAAMC,CAAAA,MAAM,CAAG9B,MAAM,CAAC6B,EAAV,sHAAZ,CAKA,GAAME,CAAAA,aAAa,CAAG/B,MAAM,CAACoB,GAAV,6PAAnB,CAWA,GAAMY,CAAAA,aAAa,CAAGhC,MAAM,CAACoB,GAAV,sKAAnB,CAQA,GAAMa,CAAAA,YAAY,CAAGjC,MAAM,CAACoB,GAAV,oJAAlB,CAOA,GAAMc,CAAAA,KAAK,CAAGlC,MAAM,CAACU,IAAD,CAAT,kKAAX,CAOA,GAAMyB,CAAAA,KAAK,CAAGnC,MAAM,CAACoC,GAAV,iIAAX,CAMA,GAAMC,CAAAA,oBAAoB,CAAGrC,MAAM,CAACS,cAAD,CAAT,6IAA1B,CAMA,GAAM6B,CAAAA,YAAY,CAAGtC,MAAM,CAACuC,EAAV,8ZAAlB,CAeA,GAAMC,CAAAA,SAAS,CAAGxC,MAAM,CAACyC,EAAV,0GAAf,CAIA,GAAMC,CAAAA,WAAW,CAAG1C,MAAM,CAACoB,GAAV,iLAAjB,CAiBA,GAAMuB,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAsB,6DACD7C,QAAQ,EADP,wCACxB8C,OADwB,eACfC,UADe,8BAEG/C,QAAQ,CAAC,KAAD,CAFX,yCAExBgD,SAFwB,eAEbC,YAFa,eAEoB;AAFpB,eAGCjD,QAAQ,CAAC,KAAD,CAHT,yCAGxBkD,QAHwB,eAGdC,WAHc,eAGkB;AAHlB,eAIanD,QAAQ,CAAC,CAAD,CAJrB,yCAIxBoD,cAJwB,eAIRC,iBAJQ,8BAKWrD,QAAQ,CAAC,CAAD,CALnB,0CAKxBsD,aALwB,gBAKTC,gBALS,gCAMavD,QAAQ,CAAC,CAAD,CANrB,2CAMxBwD,cANwB,gBAMRC,iBANQ,gCAOiBzD,QAAQ,CAAC,KAAD,CAPzB,2CAOxB0D,gBAPwB,gBAONC,mBAPM,gCAQ2B3D,QAAQ,CAAC,CAAD,CARnC,2CAQxB4D,qBARwB,gBAQDC,wBARC,gCAUK7D,QAAQ,CAAa,CACrD8D,IAAI,CAAE,KAD+C,CAErDC,OAAO,CAAE,EAF4C,CAGrDC,QAAQ,CAAEC,SAH2C,CAAb,CAVb,2CAUxBC,UAVwB,gBAUZC,aAVY,gBAgB/B,GAAMC,CAAAA,MAAM,CAAGhE,eAAe,EAA9B,CAhB+B,gBAiBSJ,QAAQ,EAjBjB,2CAiBxBqE,YAjBwB,gBAiBVC,eAjBU,gBAmB/B,GAAMC,CAAAA,MAAM,CAAG1B,KAAK,CAAC2B,OAArB,CAEA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,EAAM,CACnC,wDAAC,yLACQL,MADR,uFAGsBnD,CAAAA,oBAAoB,CACnCmD,MADmC,CAEnCvB,KAAK,CAAC6B,cAF6B,CAGnC7B,KAAK,CAAC8B,UAH6B,CAH1C,QAGSC,IAHT,eASGN,eAAe,CAACM,IAAD,CAAf,CACAvB,iBAAiB,CAACuB,IAAI,CAACC,KAAL,CAAWzB,cAAZ,CAAjB,CACAK,iBAAiB,CAACmB,IAAI,CAACC,KAAL,CAAWrB,cAAZ,CAAjB,CACAD,gBAAgB,CAACqB,IAAI,CAACC,KAAL,CAAWvB,aAAZ,CAAhB,CAEA;AAdH,IAeOsB,IAAI,CAACC,KAAL,CAAWC,qBAflB,0BAgBOnB,mBAAmB,CAAC,IAAD,CAAnB,CACIb,QAjBX,CAiBqB,CAjBrB,8BAoBqBD,KAAK,CAAC8B,UApB3B,wBAsB6B7D,CAAAA,aAAa,CACf8D,IAAI,CAACC,KAAL,CAAWC,qBAAX,CAAiCC,IADlB,CAEfX,MAAM,CAACY,SAFQ,CAtB1C,mCA0BqB,CA1BrB,sCAoBsCC,sBApBtC,uCAmBiBC,YAnBjB,eA6BWpC,QAAO,CAAG,CAAAoC,YAAY,OAAZ,EAAAA,YAAY,SAAZ,6BAAAA,YAAY,CAAEC,KAAd,kEAAqBC,QAArB,GAAiC,CAA3C,CA7BX,kFA+BWC,OAAO,CAACC,KAAR,cACAxC,QAAO,CAAG,CAAV,CAhCX,QAkCOe,wBAAwB,CAACf,QAAD,CAAxB,CAlCP,+BAoCOa,mBAAmB,CAAC,KAAD,CAAnB,CApCP,sEAAD,KAuCH,CAxCD,CA0CA,GAAM4B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,OAA0C,IAAxCC,CAAAA,IAAwC,OAAxCA,IAAwC,CAAlCC,KAAkC,OAAlCA,KAAkC,CAA3BC,OAA2B,OAA3BA,OAA2B,CAAlBC,OAAkB,OAAlBA,OAAkB,CAC5D,mBACI,oCAAK,MAAC,IAAD,EAAM,SAAS,CAAE,CAAjB,wBAAoB,oBAAKH,IAAL,EAApB,cAAmC,aAAnC,UAAL,cAAwD,MAAC,IAAD,EAAM,SAAS,CAAE,CAAjB,wBAAoB,oBAAKC,KAAL,EAApB,cACpD,aADoD,WAAxD,cACqB,MAAC,IAAD,EAAM,SAAS,CAAE,CAAjB,wBAAoB,oBAAKC,OAAL,EAApB,cAAsC,aAAtC,UADrB,cAC2E,MAAC,IAAD,EAAM,SAAS,CAAE,CAAjB,wBACvE,oBAAKC,OAAL,EADuE,cACrD,aADqD,UAD3E,GADJ,CAKH,CAND,CAQA,GAAMC,CAAAA,MAAM,2FAAG,6NAEP3C,YAAY,CAAC,IAAD,CAAZ,CACA,uBAAA4C,QAAQ,CAACC,cAAT,CAAwB,WAAxB,uEAAsCC,KAAtC,GAHO,KAIH3B,MAAM,GAAIC,YAAJ,SAAIA,YAAJ,iBAAIA,YAAY,CAAE2B,OAAlB,CAAN,EAAmC5B,MAAM,CAACY,SAJvC,mDAMO9D,CAAAA,YAAY,CAACmD,YAAD,CAAeD,MAAM,CAACY,SAAtB,CANnB,QAKGiB,QALH,gBAOD,CAPC,EASCC,MATD,CASe,CAACC,GAAG,CAAE,IAAN,CATf,KAUCF,QAVD,mDAWgBjF,CAAAA,qCAAqC,CAChDiF,QADgD,CAEhDpD,KAAK,CAACuD,SAF0C,CAGhDvD,KAAK,CAAC8B,UAH0C,CAIhD,cAJgD,CAKhD,IALgD,CAXrD,SAWCuB,MAXD,wBAoBH,GAAI,WAACA,MAAD,kCAAC,QAAQC,GAAT,CAAJ,CAAkB,CACdhC,aAAa,CAAC,CACVL,IAAI,CAAE,IADI,CAEVC,OAAO,CAAE,kCAFC,CAGVC,QAAQ,CAAE,SAHA,CAAD,CAAb,CAKH,CAND,IAMO,CACHG,aAAa,CAAC,CACVL,IAAI,CAAE,IADI,CAEVC,OAAO,CAAE,gCAFC,CAGVC,QAAQ,CAAE,OAHA,CAAD,CAAb,CAKH,CAhCE,6FAmCP;AACID,OApCG,CAoCO,aAAMsC,GAAN,EAAa,mCApCpB,CAqCP,GAAI,CAAC,aAAMA,GAAX,CAAgB,CACZ,GAAI,CAAC,aAAMtC,OAAX,CAAoB,CAChBA,OAAO,CAAG,wCAAV,CACH,CAFD,IAEO,IAAI,aAAMA,OAAN,CAAcuC,OAAd,CAAsB,OAAtB,CAAJ,CAAoC,CAC1C,CADM,IACA,IAAI,aAAMvC,OAAN,CAAcuC,OAAd,CAAsB,OAAtB,CAAJ,CAAoC,CACvCvC,OAAO,YAAP,CACH,CAFM,IAEA,IAAI,aAAMA,OAAN,CAAcuC,OAAd,CAAsB,OAAtB,CAAJ,CAAoC,CACvCvC,OAAO,uDAAP,CACH,CACJ,CATD,IASO,CACH,GAAI,aAAMwC,IAAN,GAAe,GAAnB,CAAwB,CACpBxC,OAAO,YAAP,CACH,CAFD,IAEO,IAAI,aAAMwC,IAAN,GAAe,GAAnB,CAAwB,CAC3BxC,OAAO,qCAAP,CACH,CACJ,CAEDI,aAAa,CAAC,CACVL,IAAI,CAAE,IADI,CAEVC,OAAO,CAAPA,OAFU,CAGVC,QAAQ,CAAE,OAHA,CAAD,CAAb,CAtDO,8BA4DHI,MA5DG,mDA6DmBvB,CAAAA,KAAK,CAAC8B,UAAN,CAAiB6B,UAAjB,CAA4BpC,MAAM,CAACY,SAAnC,CA7DnB,SA6DGlC,SA7DH,gBA8DHC,UAAU,CAACD,SAAO,CAAG5C,gBAAX,CAAV,CA9DG,QAgEP+C,YAAY,CAAC,KAAD,CAAZ,CACAwB,wBAAwB,GAjEjB,yGAAH,kBAANmB,CAAAA,MAAM,2CAAZ,CAqEA7F,SAAS,CAAC,UAAM,CACZ,wDAAC,0JACOqE,MADP,iDAE6BvB,CAAAA,KAAK,CAAC8B,UAAN,CAAiB6B,UAAjB,CAA4BpC,MAAM,CAACY,SAAnC,CAF7B,QAEalC,SAFb,gBAGOC,UAAU,CAACD,SAAO,CAAG5C,gBAAX,CAAV,CAHP,wDAAD,KAMH,CAPQ,CAON,CAACkE,MAAD,CAASvB,KAAK,CAAC8B,UAAf,CAPM,CAAT,CASA5E,SAAS,CAAC0E,wBAAD,CAA2B,CAChCL,MADgC,CAEhCvB,KAAK,CAAC6B,cAF0B,CAGhC7B,KAAK,CAAC8B,UAH0B,CAA3B,CAAT,CAMA,mBACI,qCACI,MAAC,aAAD,yBACI,MAAC,eAAD,yBACI,KAAC,IAAD,wBAAM,UAAG,IAAI,CAAC,GAAR,CAAY,MAAM,CAAC,QAAnB,CAA4B,GAAG,CAAC,qBAAhC,uBAAsD,YAAK,GAAG,CAAC,EAAT,CAAY,GAAG,CAAC,UAAhB,EAAtD,EAAN,EADJ,cAEI,MAAC,IAAD,yBACI,iCAAI,UAAG,IAAI,CAAC,GAAR,CAAY,MAAM,CAAC,QAAnB,CAA4B,GAAG,CAAC,qBAAhC,eAAJ,EADJ,cAGI,iCAAI,UAAG,IAAI,CAAC,GAAR,CAAY,MAAM,CAAC,QAAnB,CACG,GAAG,CAAC,qBADP,eAAJ,EAHJ,cAKI,iCAAI,UAAG,IAAI,CAAC,GAAR,CAAY,MAAM,CAAC,QAAnB,CACG,GAAG,CAAC,qBADP,eAAJ,EALJ,GAFJ,cAUI,KAAC,MAAD,WACKP,MAAM,cACH,MAAC,YAAD,YAAe,CAACtB,OAAO,EAAI,CAAZ,EAAe2D,cAAf,EAAf,qBAAmD,KAAC,aAAD,IAAnD,GADG,cAEH,KAAC,aAAD,6BAHR,EAVJ,GADJ,cAiBI,KAAC,YAAD,4BAjBJ,cAkBI,aAlBJ,cAqBI,MAAC,aAAD,yBACI,KAAC,YAAD,wBACI,MAAC,GAAD,EAAK,SAAS,CAAE,CAAhB,wBACI,8BADJ,cAEI,aAFJ,cAGI,oCAAK,KAAC,KAAD,EAAO,KAAK,CAAC,UAAb,EAAL,cAA8B,KAAC,KAAD,EAC1B,GAAG,CAAC,eADsB,CAE1B,GAAG,CAAC,aAFsB,EAA9B,GAHJ,cAMI,aANJ,cAMS,aANT,CAOKrC,MAAM,EAAIlB,QAAV,eACC,wCAAoBE,cAAc,CAACI,cAAnC,OAAsDJ,cAAtD,GARN,CASKgB,MAAM,EAAIlB,QAAV,eAAsB,KAAC,oBAAD,EAAsB,OAAO,CAAC,aAA9B,CACsB,KAAK,CAAE,IAAOM,cAAc,CAAG,GAAjB,CAAuBJ,cAD3D,EAT3B,cAWI,aAXJ,cAYI,KAAC,mBAAD,WACK,CAACF,QAAD,GAAamB,YAAb,SAAaA,YAAb,iBAAaA,YAAY,CAAEQ,KAAd,CAAoB6B,UAAjC,eACG,KAAC,SAAD,EACI,IAAI,CAAE7F,MAAM,CAACwD,YAAD,SAACA,YAAD,iBAACA,YAAY,CAAEQ,KAAd,CAAoB6B,UAArB,CADhB,CAEI,OAAO,CAAE,2BAAGC,CAAAA,SAAH,OAAGA,SAAH,OAAmBA,CAAAA,SAAS,EAAIxD,WAAW,CAAC,IAAD,CAA3C,EAFb,CAGI,UAAU,CAAE,qBAAM,CACdA,WAAW,CAAC,IAAD,CAAX,CACH,CALL,CAMI,QAAQ,CAAEoC,aANd,EADH,CASG,CAACnB,MAAD,cACQ,KAAC,aAAD,6BADR,CAGI,CAAAC,YAAY,OAAZ,EAAAA,YAAY,SAAZ,QAAAA,YAAY,CAAEQ,KAAd,CAAoB+B,UAApB,GACAxC,MAAM,CAACY,SADP,EAEAZ,MAAM,CAACyC,eAFP,cAGI,KAAC,eAAD,EACI,MAAM,CAAE,CACJ7B,SAAS,CACLZ,MAAM,CAACY,SAAP,EACA,GAAI7E,CAAAA,SAAJ,CAAcgB,qBAAd,CAHA,CAIJ;AACA0F,eAAe,CAAEzC,MAAM,CAACyC,eALpB,CAOR;AACA;AATJ,CAUI,iBAAiB,CACbxC,YADa,SACbA,YADa,sCACbA,YAAY,CAAEQ,KADD,qEACb,oBAAqB+B,UADR,gDACb,sBAAiCE,iBACnC;AACF;AAbJ,CAcI,UAAU,CAAEvC,MAdhB,CAeI,OAAO,CAAE,CAACwC,aAAa,CAAE,KAAhB,CAfb,uBAiBI,KAAC,UAAD,EACI,YAAY,CAAE1C,YADlB,CAEI,SAAS,CAAErB,SAFf,CAGI,QAAQ,CAAEE,QAHd,CAII,MAAM,CAAE0C,MAJZ,EAjBJ,EAHJ,cA4BI,KAAC,UAAD,EACI,YAAY,CAAEvB,YADlB,CAEI,SAAS,CAAErB,SAFf,CAGI,QAAQ,CAAEE,QAHd,CAII,MAAM,CAAE0C,MAJZ,EAzChB,EAZJ,cA6DI,aA7DJ,GADJ,EADJ,cAkEI,KAAC,YAAD,wBACI,MAAC,GAAD,EAAK,SAAS,CAAE,CAAhB,wBACI,MAAC,WAAD,yBAAa,YAAK,GAAG,CAAC,UAAT,CAAoB,GAAG,CAAC,EAAxB,EAAb,cAA8C,KAAC,SAAD,uBAA9C,GADJ,cAEI,+CAFJ,cAGI,6FAHJ,cAII,6DAJJ,GADJ,EAlEJ,GArBJ,GADJ,cAkGI,KAAC,QAAD,EACI,IAAI,CAAE1B,UAAU,CAACJ,IADrB,CAEI,gBAAgB,CAAE,IAFtB,CAGI,OAAO,CAAE,yBAAMK,CAAAA,aAAa,gCAAKD,UAAL,MAAiBJ,IAAI,CAAE,KAAvB,GAAnB,EAHb,uBAKI,KAAC,KAAD,EACI,OAAO,CAAE,yBAAMK,CAAAA,aAAa,gCAAKD,UAAL,MAAiBJ,IAAI,CAAE,KAAvB,GAAnB,EADb,CAEI,QAAQ,CAAEI,UAAU,CAACF,QAFzB,UAIKE,UAAU,CAACH,OAJhB,EALJ,EAlGJ,GADJ,CAiHH,CA5QD,CA8QA,cAAenB,CAAAA,IAAf","sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport * as anchor from \"@project-serum/anchor\";\r\nimport {LAMPORTS_PER_SOL, PublicKey} from \"@solana/web3.js\";\r\nimport {useAnchorWallet} from \"@solana/wallet-adapter-react\";\r\nimport {WalletMultiButton} from \"@solana/wallet-adapter-material-ui\";\r\nimport {GatewayProvider} from '@civic/solana-gateway-react';\r\nimport Countdown from \"react-countdown\";\r\nimport {Snackbar, Paper, LinearProgress, Chip} from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport {toDate,AlertState,getAtaForMint} from './utils';\r\nimport {MintButton} from './MintButton';\r\nimport {\r\n    CandyMachine,\r\n    awaitTransactionSignatureConfirmation,\r\n    getCandyMachineState,\r\n    mintOneToken,\r\n    CANDY_MACHINE_PROGRAM,\r\n} from \"./candy-machine\";\r\n\r\nconst WalletContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\nconst NFT = styled(Paper)`\r\n  min-width: 400px;\r\n  padding: 5px 20px 20px 20px;\r\n  flex: 1 1 auto;\r\n`;\r\nconst Des = styled(NFT)`\r\n  text-align: left;\r\n  padding-top: 0px;\r\n`;\r\n\r\nconst Card = styled(Paper)`\r\n  display: inline-block;\r\n  background-color: var(--card-background-lighter-color) !important;\r\n  margin: 5px;\r\n  padding: 24px;\r\n`;\r\n\r\nconst MintButtonContainer = styled.div`\r\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled{\r\n    color: #464646;\r\n  }\r\n\r\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\r\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\r\n    -webkit-animation: pulse 1s;\r\n    animation: pulse 1s;\r\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\r\n  }\r\n\r\n  @-webkit-keyframes pulse {\r\n    0% {\r\n      box-shadow: 0 0 0 0 #ef8f6e;\r\n    }\r\n  }\r\n\r\n  @keyframes pulse {\r\n    0% {\r\n      box-shadow: 0 0 0 0 #ef8f6e;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WalletAmount = styled.div`\r\n  color:black;\r\n  width: auto;\r\n  height: 48px;\r\n  padding: 0 5px 0 16px;\r\n  min-width: 48px;\r\n  min-height: auto;\r\n  border-radius: 24px;\r\n  background-color: var(--main-text-color);\r\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\r\n  box-sizing: border-box;\r\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n  font-weight: 500;\r\n  line-height: 1.75;\r\n  text-transform: uppercase;\r\n  border: 0;\r\n  margin: 0;\r\n  display: inline-flex;\r\n  outline: 0;\r\n  position: relative;\r\n  align-items: center;\r\n  user-select: none;\r\n  vertical-align: middle;\r\n  justify-content: flex-start;\r\n  gap:10px;\r\n\r\n`;\r\n\r\nconst ConnectButton = styled(WalletMultiButton)`\r\n`;\r\nconst Logo = styled.div`\r\n  flex: 0 0 auto;\r\n\r\n  img {\r\n    height: 60px;\r\n  }\r\n`;\r\nconst Menu = styled.ul`\r\n  list-style: none;\r\n  display: inline-flex;\r\n  flex: 1 0 auto;\r\n\r\n  li {\r\n    margin: 0 12px;\r\n\r\n    a {\r\n      color: var(--main-text-color);\r\n      list-style-image: none;\r\n      list-style-position: outside;\r\n      list-style-type: none;\r\n      outline: none;\r\n      text-decoration: none;\r\n      text-size-adjust: 100%;\r\n      touch-action: manipulation;\r\n      transition: color 0.3s;\r\n      padding-bottom: 15px;\r\n\r\n      img {\r\n        max-height: 26px;\r\n      }\r\n    }\r\n\r\n    a:hover, a:active {\r\n      color: rgb(131, 146, 161);\r\n      border-bottom: 4px solid var(--title-text-color);\r\n    }\r\n\r\n  }\r\n`;\r\nconst Wallet = styled.ul`\r\n  flex: 0 0 auto;\r\n  margin: 0;\r\n  padding:0;\r\n`;\r\nconst MainContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n  margin-right: 4%;\r\n  margin-left: 4%;\r\n  text-align: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst MintContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1 1 auto;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n`;\r\n\r\nconst DesContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 auto;\r\n  gap:20px;\r\n`;\r\n\r\nconst Price = styled(Chip)`\r\n  position: absolute;\r\n  margin: 5px;\r\n  font-weight: bold;\r\n  font-size: 1em !important;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 400px;\r\n  width: auto;\r\n  border-radius: 20px;\r\n`;\r\n\r\nconst BorderLinearProgress = styled(LinearProgress)`\r\n  margin: 20px 0;\r\n  height: 10px !important;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst ShimmerTitle = styled.h1`\r\n  margin: 50px auto;\r\n  text-transform: uppercase;\r\n  animation: glow 2s ease-in-out infinite alternate;\r\n  color: var(--main-text-color);\r\n  @keyframes glow {\r\n    from {\r\n      text-shadow: 0 0 20px var(--main-text-color);\r\n    }\r\n    to {\r\n      text-shadow: 0 0 30px var(--title-text-color), 0 0 10px var(--title-text-color);\r\n    }\r\n  }\r\n`;\r\n\r\nconst GoldTitle = styled.h2`\r\n  color: var(--title-text-color);\r\n`;\r\n\r\nconst LogoAligner = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  img {\r\n    max-height: 35px;\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nexport interface HomeProps {\r\n    candyMachineId: anchor.web3.PublicKey;\r\n    connection: anchor.web3.Connection;\r\n    txTimeout: number;\r\n    rpcHost: string;\r\n}\r\n\r\nconst Home = (props: HomeProps) => {\r\n    const [balance, setBalance] = useState<number>();\r\n    const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\r\n    const [isActive, setIsActive] = useState(false); // true when countdown completes\r\n    const [itemsAvailable, setItemsAvailable] = useState(0);\r\n    const [itemsRedeemed, setItemsRedeemed] = useState(0);\r\n    const [itemsRemaining, setItemsRemaining] = useState(0);\r\n    const [whitelistEnabled, setWhitelistEnabled] = useState(false);\r\n    const [whitelistTokenBalance, setWhitelistTokenBalance] = useState(0);\r\n\r\n    const [alertState, setAlertState] = useState<AlertState>({\r\n        open: false,\r\n        message: \"\",\r\n        severity: undefined,\r\n    });\r\n\r\n    const wallet = useAnchorWallet();\r\n    const [candyMachine, setCandyMachine] = useState<CandyMachine>();\r\n\r\n    const rpcUrl = props.rpcHost;\r\n\r\n    const refreshCandyMachineState = () => {\r\n        (async () => {\r\n            if (!wallet) return;\r\n\r\n            const cndy = await getCandyMachineState(\r\n                wallet as anchor.Wallet,\r\n                props.candyMachineId,\r\n                props.connection\r\n            );\r\n\r\n            setCandyMachine(cndy);\r\n            setItemsAvailable(cndy.state.itemsAvailable);\r\n            setItemsRemaining(cndy.state.itemsRemaining);\r\n            setItemsRedeemed(cndy.state.itemsRedeemed);\r\n\r\n            // fetch whitelist token balance\r\n            if (cndy.state.whitelistMintSettings) {\r\n                setWhitelistEnabled(true);\r\n                let balance = 0;\r\n                try {\r\n                    const tokenBalance =\r\n                        await props.connection.getTokenAccountBalance(\r\n                            (\r\n                                await getAtaForMint(\r\n                                    cndy.state.whitelistMintSettings.mint,\r\n                                    wallet.publicKey,\r\n                                )\r\n                            )[0],\r\n                        );\r\n\r\n                    balance = tokenBalance?.value?.uiAmount || 0;\r\n                } catch (e) {\r\n                    console.error(e);\r\n                    balance = 0;\r\n                }\r\n                setWhitelistTokenBalance(balance);\r\n            } else {\r\n                setWhitelistEnabled(false);\r\n            }\r\n        })();\r\n    };\r\n\r\n    const renderCounter = ({days, hours, minutes, seconds}: any) => {\r\n        return (\r\n            <div><Card elevation={1}><h1>{days}</h1><br/>Days</Card><Card elevation={1}><h1>{hours}</h1>\r\n                <br/>Hours</Card><Card elevation={1}><h1>{minutes}</h1><br/>Mins</Card><Card elevation={1}>\r\n                <h1>{seconds}</h1><br/>Secs</Card></div>\r\n        );\r\n    };\r\n\r\n    const onMint = async () => {\r\n        try {\r\n            setIsMinting(true);\r\n            document.getElementById('#identity')?.click();\r\n            if (wallet && candyMachine?.program && wallet.publicKey) {\r\n                const mintTxId = (\r\n                    await mintOneToken(candyMachine, wallet.publicKey)\r\n                )[0];\r\n\r\n                let status: any = {err: true};\r\n                if (mintTxId) {\r\n                    status = await awaitTransactionSignatureConfirmation(\r\n                        mintTxId,\r\n                        props.txTimeout,\r\n                        props.connection,\r\n                        'singleGossip',\r\n                        true,\r\n                    );\r\n                }\r\n\r\n                if (!status?.err) {\r\n                    setAlertState({\r\n                        open: true,\r\n                        message: 'Congratulations! Mint succeeded!',\r\n                        severity: 'success',\r\n                    });\r\n                } else {\r\n                    setAlertState({\r\n                        open: true,\r\n                        message: 'Mint failed! Please try again!',\r\n                        severity: 'error',\r\n                    });\r\n                }\r\n            }\r\n        } catch (error: any) {\r\n            // TODO: blech:\r\n            let message = error.msg || 'Minting failed! Please try again!';\r\n            if (!error.msg) {\r\n                if (!error.message) {\r\n                    message = 'Transaction Timeout! Please try again.';\r\n                } else if (error.message.indexOf('0x138')) {\r\n                } else if (error.message.indexOf('0x137')) {\r\n                    message = `SOLD OUT!`;\r\n                } else if (error.message.indexOf('0x135')) {\r\n                    message = `Insufficient funds to mint. Please fund your wallet.`;\r\n                }\r\n            } else {\r\n                if (error.code === 311) {\r\n                    message = `SOLD OUT!`;\r\n                } else if (error.code === 312) {\r\n                    message = `Minting period hasn't started yet.`;\r\n                }\r\n            }\r\n\r\n            setAlertState({\r\n                open: true,\r\n                message,\r\n                severity: \"error\",\r\n            });\r\n        } finally {\r\n            if (wallet) {\r\n                const balance = await props.connection.getBalance(wallet.publicKey);\r\n                setBalance(balance / LAMPORTS_PER_SOL);\r\n            }\r\n            setIsMinting(false);\r\n            refreshCandyMachineState();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (wallet) {\r\n                const balance = await props.connection.getBalance(wallet.publicKey);\r\n                setBalance(balance / LAMPORTS_PER_SOL);\r\n            }\r\n        })();\r\n    }, [wallet, props.connection]);\r\n\r\n    useEffect(refreshCandyMachineState, [\r\n        wallet,\r\n        props.candyMachineId,\r\n        props.connection,\r\n    ]);\r\n\r\n    return (\r\n        <main>\r\n            <MainContainer>\r\n                <WalletContainer>\r\n                    <Logo><a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\"><img alt=\"\" src=\"logo.png\"/></a></Logo>\r\n                    <Menu>\r\n                        <li><a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\"> </a>\r\n                        </li>\r\n                        <li><a href=\"#\" target=\"_blank\"\r\n                               rel=\"noopener noreferrer\"> </a></li>\r\n                        <li><a href=\"#\" target=\"_blank\"\r\n                               rel=\"noopener noreferrer\"> </a></li>\r\n                    </Menu>\r\n                    <Wallet>\r\n                        {wallet ?\r\n                            <WalletAmount>{(balance || 0).toLocaleString()} SOL<ConnectButton/></WalletAmount> :\r\n                            <ConnectButton>Connect Wallet</ConnectButton>}\r\n                    </Wallet>\r\n                </WalletContainer>\r\n                <ShimmerTitle>Adventure S.L</ShimmerTitle>\r\n                <br/>\r\n\r\n\r\n                <MintContainer>\r\n                    <DesContainer>\r\n                        <NFT elevation={3}>\r\n                            <h2>My NFT</h2>\r\n                            <br/>\r\n                            <div><Price label=\"0.15 SOL\"/><Image\r\n                                src=\"cool-cats.gif\"\r\n                                alt=\"NFT To Mint\"/></div>\r\n                            <br/><br/>\r\n                            {wallet && isActive &&\r\n                              <h3>TOTAL MINTED : {itemsAvailable-itemsRemaining} / {itemsAvailable}</h3>}\r\n                            {wallet && isActive && <BorderLinearProgress variant=\"determinate\"\r\n                                                                         value={100 - (itemsRemaining * 100 / itemsAvailable)}/>}\r\n                            <br/>\r\n                            <MintButtonContainer>\r\n                                {!isActive && candyMachine?.state.goLiveDate ? (\r\n                                    <Countdown\r\n                                        date={toDate(candyMachine?.state.goLiveDate)}\r\n                                        onMount={({ completed }) => completed && setIsActive(true)}\r\n                                        onComplete={() => {\r\n                                            setIsActive(true);\r\n                                        }}\r\n                                        renderer={renderCounter}\r\n                                    />) : (\r\n                                    !wallet ? (\r\n                                            <ConnectButton>Connect Wallet</ConnectButton>\r\n                                        ) :\r\n                                        candyMachine?.state.gatekeeper &&\r\n                                        wallet.publicKey &&\r\n                                        wallet.signTransaction ? (\r\n                                            <GatewayProvider\r\n                                                wallet={{\r\n                                                    publicKey:\r\n                                                        wallet.publicKey ||\r\n                                                        new PublicKey(CANDY_MACHINE_PROGRAM),\r\n                                                    //@ts-ignore\r\n                                                    signTransaction: wallet.signTransaction,\r\n                                                }}\r\n                                                // // Replace with following when added\r\n                                                // gatekeeperNetwork={candyMachine.state.gatekeeper_network}\r\n                                                gatekeeperNetwork={\r\n                                                    candyMachine?.state?.gatekeeper?.gatekeeperNetwork\r\n                                                } // This is the ignite (captcha) network\r\n                                                /// Don't need this for mainnet\r\n                                                clusterUrl={rpcUrl}\r\n                                                options={{autoShowModal: false}}\r\n                                            >\r\n                                                <MintButton\r\n                                                    candyMachine={candyMachine}\r\n                                                    isMinting={isMinting}\r\n                                                    isActive={isActive}\r\n                                                    onMint={onMint}\r\n                                                />\r\n                                            </GatewayProvider>\r\n                                        ) : (\r\n                                            <MintButton\r\n                                                candyMachine={candyMachine}\r\n                                                isMinting={isMinting}\r\n                                                isActive={isActive}\r\n                                                onMint={onMint}\r\n                                            />\r\n                                        ))}\r\n                            </MintButtonContainer>\r\n                            <br/>\r\n                        </NFT>\r\n                    </DesContainer>\r\n                    <DesContainer>\r\n                        <Des elevation={2}>\r\n                            <LogoAligner><img src=\"logo.png\" alt=\"\"></img><GoldTitle>Welcome!</GoldTitle></LogoAligner>\r\n                            <p>Welcome To Adventure S.L</p>\r\n                            <p>Come join us in our Discord for more information, and updates on mint!</p>\r\n                            <p>Total Supply: 333 Mint Price: 0.15 SOL</p>\r\n                        </Des>\r\n                    </DesContainer>\r\n                </MintContainer>\r\n            </MainContainer>\r\n            <Snackbar\r\n                open={alertState.open}\r\n                autoHideDuration={6000}\r\n                onClose={() => setAlertState({...alertState, open: false})}\r\n            >\r\n                <Alert\r\n                    onClose={() => setAlertState({...alertState, open: false})}\r\n                    severity={alertState.severity}\r\n                >\r\n                    {alertState.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}